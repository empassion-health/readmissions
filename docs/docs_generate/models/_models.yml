version: 2

models:
  - name: condition
    config:
      database: tuva
      schema: readmissions_input
    description: > 
      The readmissions package uses the condition output from claims_preprocessing as an input.  
      If claims preprocessing is bypassed and a custom condition model is used, this model represents the minimum required data elements needed for readmissions to function.
    columns:
      - name: encounter_id
        description: The unique identifier for the encounter
      - name: code
        description: An ICD-10-CM diagnosis code associated with this encounter_id
      - name: code_type
        description: The type of condition code.  Readmissions will only function with ICD-10-CM codes.
      - name: diagnosis_rank
        description: A positive integer giving the diagnosis ranking for the encounter
      - name: condition_type
        description: The type of reported condition.  Readmissions will only evaluate conditions with a type of discharge diagnosis

  - name: encounter
    config:
      database: tuva
      schema: readmissions_input
    description: > 
      The readmissions package uses the encounter output from claims_preprocessing as an input.  
      If claims preprocessing is bypassed and a custom encounter model is used, this model represents the minimum required data elements needed for readmissions to function.
    columns:
      - name: encounter_id
        description: Unique ID for each visit.
      - name: patient_id
        description: Unique ID for each patient.
      - name: encounter_start_date
        description: YYYY-MM-DD date format (inpatient admit date).
      - name: encounter_end_date
        description: YYYY-MM-DD date format (inpatient discharge date).
      - name: discharge_disposition_code
        description: Discharge disposition code for the inpatient admission.
      - name: facility_npi
        description: The facility name for the inpatient encounter.
      - name: ms_drg_code
        description: The MS-DRG associated with the acute inpatient encounter.
      - name: encounter_type
        description: Describes the kind of encounter this was.

  - name: patient
    config:
      database: tuva
      schema: readmissions_input
    description: > 
      The readmissions package uses the patient output from claims_preprocessing as an input.  
      If claims preprocessing is bypassed and a custom patient model is used, this model represents the minimum required data elements needed for readmissions to function.
    columns:
      - name: patient_id
        description: Unique ID for each patient.
      - name: gender
        description: Gender of patient (male, female, or unknown)
      - name: birth_date
        description: YYYY-MM-DD date format.

  - name: procedure
    config:
      database: tuva
      schema: readmissions_input
    description: > 
      The readmissions package uses the procedure output from claims_preprocessing as an input.  
      If claims preprocessing is bypassed and a custom procedure model is used, this model represents the minimum required data elements needed for readmissions to function.
    columns:
      - name: encounter_id
        description: Unique ID for each visit.
      - name: code
        description: >
          Procedure code for a procedure performed
          during inpatient encounter.
      - name: code_type
        description: Indicates the type of procedure (cpt, icd-10-pcs)